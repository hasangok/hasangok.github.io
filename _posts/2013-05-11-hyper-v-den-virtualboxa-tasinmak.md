---
layout: post
title: Hyper-V'den VirtualBox'a Taşınmak
date: 2013-05-11 00:44
author: hasangok
comments: true
Tags: [Bilgisayar, hyper-v, vhdx, virtualbox]
---
<p style="text-align: justify;">Merhaba arkadaşlar,</p>
<p style="text-align: justify;">İş yaşamım son sürat devam ederken <em>Windows 8</em>, <em>Hyper-V</em>, <em>Sharepoint</em>, <em>Visual Studio</em> gibi ürünlere her geçen gün biraz daha adapte olmaktayım. Bu adapte olma sürecinde karşılaştığım birkaç problemden birisi (ve en can sıkıcı olanı) <em>yavaşlık</em>! Sanal bilgisayarlarımızda çalışan <em>Windows Server 2008</em> ve <em>Sharepoint 2010</em> için ayırabildiğimiz <strong>4 GB RAM</strong> ve <strong>i5</strong> işlemcimizin bir çekirdeği ne yazık ki rahat bir çalışma ortamı için yeterli olamıyor. Yapılan iş didiklendikçe bu yavaşlık saç baş yolduran cinsten olabiliyor. Öyle ki tek satır kodda yapılan bir değişikliği debug edebilmek için 15 dakika beklemek insanı hem yoruyor hem şevkini kaçırıyor. Hele ki benim gibi işe yeni başlamış ve yapmaya çalıştığının çoğunu deneme yanılmayla çözmeye çalışan, binlerce kez değişiklik yapan ve sürekli debug modunda olan birisi için!</p>
<p style="text-align: justify;"><!--more--></p>
<p style="text-align: justify;">Her neyse, lafı daha fazla uzatmadan konuya gelecek olursak, kendimce çözümü kullandığımız çalışma ortamını şirketin verdiği bilgisayardan biraz daha güçlü olan kendi bilgisayarıma taşımakta ve çalışma ortamımızı barındıracak sanal bilgisayara <strong>8 GB RAM</strong> ve <strong>i7</strong> işlemcimin 2 çekirdeğini atamakta buldum. Ancak orda da sorun şuydu ki tüm alet edevatımız <em>Windows 8</em>’in sunduğu <em>Hyper-V</em> ile oluşturulmuş sanal bilgisayarlardaydı. Ben ise ısrarla <em>Windows 7</em> kullanmaya devam eden bir vatandaş olarak tüm bu ortamı <em>VirtualBox</em> ile çalıştırmak zorundaydım. Ve çalıştırdım. Şimdi sizlerle de bunu paylaşacağım ki Google’dan arayıp bu sayfalara kadar gelmişken eli boş dönmeyin :)</p>
<p style="text-align: justify;">Öncelikle bilmemiz gereken (ve üzücü olan) şu ki VirtualBox <em><strong>VHDX</strong></em> biçimli sanal diskleri desteklemiyor. Benim bu yazıyı yazdığım sırada son sürüm olan 4.2.12 versiyonunda read-only (sadece okuma) desteği gelmiş olduğunu gördüm, ancak bu dosyayı kullanarak bir sanal makine oluşturmaya çalıştığımda başarılı olamadım. Bu yüzden öncelikle <strong>Hyper-V Manager üzerinden hard diskimizi VirtualBox’ın da desteklediği VHD formatına çevirmemiz</strong> gerekiyor. Bunun için aşağıdaki adımları takip ediyoruz:</p>

<ol style="text-align: justify;">
	<li>Hyper-V Manager açılır ve resimde gördüğünüz gibi <em><strong>New &gt; Hard Disk</strong></em> seçilir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/1-hyper-v-new-hdd.png"><img class="size-full wp-image-47 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/1-hyper-v-new-hdd.png" alt="1-hyper-v-new-hdd" width="718" height="540" /></a></li>
	<li>Yeni diskimizi oluşturmak için sihirbaz bizi karşılar.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/2-new-hdd-wizard.png"><img class="size-full wp-image-48 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/2-new-hdd-wizard.png" alt="2-new-hdd-wizard" width="718" height="540" /></a></li>
	<li>“<strong><em>Choose Disk Format</em></strong>” aşamasında VirtualBox’ın kullanabileceği dosya biçimi olan <strong>VHD</strong> seçilir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/3-choose-disk-format.png"><img class="size-full wp-image-49 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/3-choose-disk-format.png" alt="3-choose-disk-format" width="718" height="540" /></a></li>
	<li>Disk türü olarak ben kullanıldıkça büyüyen “<em><strong>Dynamically Expanding</strong></em>” seçeneğini kullandım. İhtiyacınıza göre size uygun seçenek seçilir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/4-choose-disk-type.png"><img class="size-full wp-image-50 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/4-choose-disk-type.png" alt="4-choose-disk-type" width="718" height="540" /></a></li>
	<li>Hard diskimizin kopyalanacağı yeni dosyamız için bir isim ve yol belirtilir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/5-name-and-location.png"><img class="size-full wp-image-51 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/5-name-and-location.png" alt="5-name-and-location" width="718" height="540" /></a></li>
	<li>Bu adımda üçüncü sırada olan “<strong><em>Copy the contents of the specified virtual hard disk</em></strong>” seçilir ve <strong>VHDX</strong> uzantılı dosyamız seçilir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/6-configure-disk.png"><img class="size-full wp-image-52 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/6-configure-disk.png" alt="6-configure-disk" width="718" height="540" /></a></li>
	<li>Finish butonuna basılır ve diskin kopyalanması beklenir.<a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/7-summary-finish.png"><img class="size-full wp-image-53 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/7-summary-finish.png" alt="7-summary-finish" width="718" height="540" /></a></li>
</ol>
<p style="text-align: justify;"><strong>40 GB</strong>’lık bir disk için bu işlemin tamamlanması hemen hemen bir saati buldu. Kaynak hard disk dosyanızın boyutu büyükse bu aşamada bir çay veya kahve molası vermek bilgisayar başında bekleyip sıkılmamanız için iyi bir seçenek olabilir :)</p>
<p style="text-align: justify;">Buraya kadar olan kısımda <em>Hyper-V</em> ile olan işimizi bitirip, <em>VirtualBox</em>’a göç için hazırlanmış oluyoruz. Elimizde <a title="VirtualBox" href="http://download.virtualbox.org/virtualbox/4.2.12/VirtualBox-4.2.12-84980-Win.exe" target="_blank">buradan</a> ulaşabileceğimiz <em>VirtualBox</em> ve az önce hazırladığımız <em><strong>VHD</strong></em> uzantılı hard disk var. Geriye bu hard diski kullanacak bir sanal bilgisayar oluşturmak kalıyor. Bunun için aşağıdaki adımları takip edebilirsiniz:</p>

<ol style="text-align: justify;">
	<li>VirtualBox açılır, <strong>New</strong> butonuna basarak sihirbaz başlatılır.</li>
	<li>Bilgisayar için bir isim verilir ve işletim sistemi seçilir.</li>
	<li>Bilgisayar için ayrılacak RAM seçilir.</li>
	<li>Hard disk için “<strong>Use an existing virtual hard drive file</strong>” seçeneği kullanılarak Hyper-V ile oluşturduğumuz VHD uzantılı dosya seçilir.</li>
	<li><strong>Create</strong> butonuna basarak sihirbaz sonlandırılır.</li>
	<li>Settings kısmından istenilen diğer ayarlar (ekran kartı belleği, işlemci çekirdek sayısı gibi) yapılır.</li>
</ol>
<p style="text-align: justify;">Buraya kadar her şey sorunsuz ve <em>Hyper-V</em>’deki çalışma ortamımız olduğu gibi <em>VirtualBox</em>’ta! Harika! Hemen sanal bilgisayarımızı çalıştırıyoruz ve aşağıdaki görüntüyle karşılaşıyoruz.</p>
<p style="text-align: justify;"><a href="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/8-mavi-ekran-hata.png"><img class="size-full wp-image-54 aligncenter" src="https://raw.githubusercontent.com/hasangok/hasangok.github.io/master/uploads/2013/05/8-mavi-ekran-hata.png" alt="8-mavi-ekran-hata" width="656" height="560" /></a></p>
<p style="text-align: justify;">Mavi ekran! En sevdiğimiz. Zaten çoktandır görmüyorduk, özlemişiz :)</p>
<p style="text-align: justify;">Aldığımız bu güzel <strong>mavi ekran hatasının sebebi</strong> şuymuş: <em>Hyper-V, sadece bootable IDE hard diskler oluşturuyormuş. Ancak Settings &gt; Storage bölümünden görebileceğiniz üzere VirtualBox bu hard diski SATA Controller altında çalıştırmaya çalışıyor. Bu yüzden Settings &gt; Storage yolunu takip edip SATA Controller’ı tamamen silmeli ve hard disk dosyanızı IDE Controller altına tekrar eklemelisiniz.</em> Bu son değişiklik ile tüm sorunlarınız halledilmiş oluyor ve sanal bilgisayarımız sorunsuz çalışıyor.</p>
<p style="text-align: justify;">Eveeeet. Bu yazıyı burada bitirelim. Zaten attığım başlığa ek bir sürü hikaye de anlatmış oldum, ama siz adımları ve resimleri takip ederek zaten hikaye kısmını atlamışsınızdır diye tahmin ediyorum :)</p>
<p style="text-align: justify;">Haydi başka bir yazıda görüşürüz efendim, sağlıcakla kalın...</p>
